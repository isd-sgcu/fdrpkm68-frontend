---
const { house = {} } = Astro.props;
const { name, imageURL, rank } = house;

const rankWidth = rank === "sub" ? "55" : rank == 1 || rank == 2 ? "30" : "24";
const rankHeight = rank === "sub" ? "55" : rank == 1 || rank == 2 ? "30" : "24";
---

{
  name ? (
    <div class="relative flex h-[110px] w-[90px] flex-col gap-3">
      <div class="relative max-h-[90px] w-full bg-white p-1">
        <img
          src={`/images/rpkm/rank-${rank}.svg`}
          class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 transform"
          width={rankWidth}
          height={rankHeight}
        />
        <img
          src={imageURL ? imageURL : "/images/rpkm/house-blank.png"}
          class="h-auto w-full object-cover pb-1"
        />
        <p class="h-fit max-h-[20px] w-full overflow-hidden text-center text-xs font-semibold text-ellipsis whitespace-nowrap text-[#2B2D42]">
          {name}
        </p>
      </div>
      <button class="flex cursor-pointer items-center justify-center">
        <img src="/images/rpkm/bin-icon.svg" width="14" height="18" />
      </button>
    </div>
  ) : (
    <button
      class="relative flex h-[110px] w-[90px] cursor-pointer items-center justify-center border-2 border-dashed border-[#D38DD8] transition-colors hover:bg-[#D38DD8]/20"
      data-rank={rank}
    >
      <img
        src={`/images/rpkm/rank-${rank}.svg`}
        class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 transform"
        width={rankWidth}
        height={rankHeight}
      />
      <img src={"/images/rpkm/plus-icon.svg"} class="h-6 w-6" />
    </button>
  )
}
